<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Space - System Flowchart</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #2d3748;
            font-size: 2.5em;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .header p {
            color: #4a5568;
            font-size: 1.2em;
            margin: 10px 0;
        }
        
        .flowchart-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin: 20px 0;
        }
        
        .section-title {
            color: #2d3748;
            font-size: 1.8em;
            margin: 30px 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
        
        .info-panel {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid #667eea;
        }
        
        .info-panel h3 {
            color: #2d3748;
            margin-top: 0;
        }
        
        .info-panel ul {
            color: #4a5568;
            line-height: 1.6;
        }
        
        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .tech-item {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .tech-item h4 {
            margin: 0 0 10px 0;
            font-size: 1.2em;
        }
        
        .tech-item p {
            margin: 0;
            opacity: 0.9;
        }
        
        .controls {
            text-align: center;
            margin: 20px 0;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            margin: 5px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        .btn.active {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸš€ Study Space System Flowchart</h1>
            <p>Comprehensive Learning Management System Architecture</p>
        </div>
        
        <div class="controls">
            <button class="btn active" onclick="showFlowchart('overview')">System Overview</button>
            <button class="btn" onclick="showFlowchart('authentication')">Authentication Flow</button>
            <button class="btn" onclick="showFlowchart('userisolation')">User Isolation</button>
            <button class="btn" onclick="showFlowchart('aiprocessing')">AI Document Processing</button>
            <button class="btn" onclick="showFlowchart('database')">Database Architecture</button>
            <button class="btn" onclick="showFlowchart('dataflow')">Data Flow</button>
            <button class="btn" onclick="showFlowchart('components')">Component Architecture</button>
            <button class="btn" onclick="showFlowchart('features')">Feature Modules</button>
        </div>
        
        <div class="flowchart-container">
            <div id="flowchart-content"></div>
        </div>
        
        <div class="info-panel">
            <h3>ðŸ“‹ System Information</h3>
            <ul>
                <li><strong>Application Type:</strong> Multi-User JavaFX Desktop Application</li>
                <li><strong>Java Version:</strong> Java 21</li>
                <li><strong>UI Framework:</strong> JavaFX 21</li>
                <li><strong>Database:</strong> MySQL with User Isolation</li>
                <li><strong>AI Processing:</strong> Python Flask API with Qwen3-coder LLM</li>
                <li><strong>Build Tool:</strong> Maven</li>
                <li><strong>Architecture:</strong> MVC Pattern with Multi-User Data Store</li>
                <li><strong>UI Design:</strong> Glassmorphism with Dark Theme</li>
                <li><strong>Security:</strong> Complete User Isolation & Authentication</li>
                <li><strong>Team:</strong> Computer Engineering Students - University of Mindanao</li>
            </ul>
        </div>
        
        <div class="tech-stack">
            <div class="tech-item">
                <h4>Java 21</h4>
                <p>Modern Java with latest features</p>
            </div>
            <div class="tech-item">
                <h4>JavaFX 21</h4>
                <p>Rich desktop application framework</p>
            </div>
            <div class="tech-item">
                <h4>MySQL</h4>
                <p>Relational database with user isolation</p>
            </div>
            <div class="tech-item">
                <h4>Python Flask</h4>
                <p>AI document processing backend</p>
            </div>
            <div class="tech-item">
                <h4>Qwen3-coder</h4>
                <p>AI model for content generation</p>
            </div>
            <div class="tech-item">
                <h4>Maven</h4>
                <p>Dependency management and build tool</p>
            </div>
        </div>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'base',
            themeVariables: {
                primaryColor: '#667eea',
                primaryTextColor: '#2d3748',
                primaryBorderColor: '#4a5568',
                lineColor: '#4a5568',
                secondaryColor: '#f7fafc',
                tertiaryColor: '#edf2f7'
            }
        });

        const flowcharts = {
            overview: `
                graph TD
                    A[ðŸš€ Study Space Application] --> B[ðŸ” Authentication System]
                    A --> C[ðŸ“± Main Application Interface]
                    A --> D[ðŸ¤– AI Document Processing]
                    A --> E[ðŸ—„ï¸ Database Management]
                    
                    B --> B1[ðŸ‘¤ User Registration]
                    B --> B2[ðŸ”‘ User Login]
                    B --> B3[ðŸ›¡ï¸ Session Management]
                    B --> B4[ðŸšª User Logout]
                    
                    C --> C1[ðŸ“š Study Modules]
                    C1 --> C2[ðŸƒ AI Flashcards]
                    C1 --> C3[ðŸ“ Smart Notes]
                    C1 --> C4[âœ… Interactive Quizzes]
                    C1 --> C5[ðŸ“‹ Task Management]
                    C1 --> C6[ðŸŽ® Snake Game]
                    
                    D --> D1[ðŸ“ Document Upload]
                    D --> D2[ðŸ¤– AI Content Generation]
                    D --> D3[ðŸ“Š Content Processing]
                    D --> D4[ðŸ’¾ Database Storage]
                    
                    E --> E1[ðŸ‘¤ User Data]
                    E --> E2[ðŸ“„ User Notes]
                    E --> E3[ðŸƒ User Flashcards]
                    E --> E4[â“ User Quizzes]
                    E --> E5[ðŸ“‹ User Tasks]
                    
                    style A fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px,color:#fff
                    style B fill:#ef4444,stroke:#dc2626,stroke-width:3px,color:#fff
                    style C fill:#3b82f6,stroke:#2563eb,stroke-width:3px,color:#fff
                    style D fill:#10b981,stroke:#059669,stroke-width:3px,color:#fff
                    style E fill:#f59e0b,stroke:#d97706,stroke-width:3px,color:#fff
            `,
            
            authentication: `
                graph TD
                    A[ðŸš€ Study Space Launch] --> B{User Status}
                    B -->|New User| C[ðŸ‘¤ User Registration]
                    B -->|Existing User| D[ðŸ”‘ User Login]
                    B -->|Guest| E[ðŸ“± Guest Mode]
                    
                    C --> C1[ðŸ“§ Email Validation]
                    C --> C2[ðŸ”‘ Password Creation]
                    C --> C3[ðŸ‘¤ Profile Setup]
                    C --> C4[âœ… Account Creation]
                    
                    D --> D1[ðŸ“§ Email Input]
                    D --> D2[ðŸ”‘ Password Verification]
                    D --> D3{Authentication}
                    D3 -->|Success| F[ðŸ  Main Dashboard]
                    D3 -->|Failure| G[âŒ Login Error]
                    
                    E --> H[ðŸ“± Limited Access]
                    H --> I[ðŸ” Prompt for Registration]
                    
                    F --> J[ðŸ›¡ï¸ Session Management]
                    J --> K[â° Auto Logout Timer]
                    J --> L[ðŸ”„ Session Refresh]
                    
                    G --> M[ðŸ”„ Retry Login]
                    M --> D
                    
                    style A fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px,color:#fff
                    style F fill:#10b981,stroke:#059669,stroke-width:3px,color:#fff
                    style G fill:#ef4444,stroke:#dc2626,stroke-width:3px,color:#fff
            `,
            
            userisolation: `
                graph TD
                    A[ðŸ‘¤ User Login] --> B[ðŸ›¡ï¸ User Session Created]
                    B --> C[ðŸ” User ID Authentication]
                    C --> D[ðŸ“Š User-Specific Data Access]
                    
                    D --> E[ðŸ“„ User Notes]
                    D --> F[ðŸƒ User Flashcards]
                    D --> G[â“ User Quizzes]
                    D --> H[ðŸ“‹ User Tasks]
                    D --> I[ðŸ“ User Files]
                    
                    E --> J[ðŸ—„ï¸ MySQL Database]
                    F --> J
                    G --> J
                    H --> J
                    I --> J
                    
                    J --> K[ðŸ” Database Queries with User ID Filter]
                    K --> L[ðŸ“Š User-Specific Results]
                    L --> M[ðŸ›¡ï¸ Data Isolation Maintained]
                    
                    N[ðŸ‘¤ Other Users] --> O[ðŸš« No Access to User Data]
                    O --> P[ðŸ›¡ï¸ Complete Isolation]
                    
                    Q[ðŸ—‘ï¸ User Account Deletion] --> R[ðŸ”„ Cascade Delete All User Data]
                    R --> S[âœ… Complete Data Removal]
                    
                    style A fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px,color:#fff
                    style M fill:#10b981,stroke:#059669,stroke-width:3px,color:#fff
                    style P fill:#ef4444,stroke:#dc2626,stroke-width:3px,color:#fff
            `,
            
            aiprocessing: `
                graph TD
                    A[ðŸ“ Document Upload] --> B[ðŸ” File Type Detection]
                    B --> C{Supported Format?}
                    C -->|Yes| D[ðŸ“„ Content Extraction]
                    C -->|No| E[âŒ Unsupported Format Error]
                    
                    D --> F[ðŸ“ Text Processing]
                    F --> G[ðŸ¤– AI Model Processing]
                    G --> H[ðŸ§  Qwen3-coder LLM]
                    
                    H --> I[ðŸ“Š Content Analysis]
                    I --> J[ðŸ“š Study Notes Generation]
                    I --> K[ðŸƒ Flashcard Creation]
                    I --> L[â“ Quiz Generation]
                    
                    J --> M[ðŸ“‹ Structured Notes]
                    K --> N[ðŸƒ Question-Answer Pairs]
                    L --> O[â“ Multiple Choice Questions]
                    
                    M --> P[ðŸ’¾ Database Storage]
                    N --> P
                    O --> P
                    
                    P --> Q[âœ… Content Available to User]
                    
                    R[âš™ï¸ AI Configuration] --> H
                    S[ðŸ”§ Error Handling] --> T[ðŸ“Š Fallback Content Generation]
                    
                    style A fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px,color:#fff
                    style H fill:#10b981,stroke:#059669,stroke-width:3px,color:#fff
                    style Q fill:#3b82f6,stroke:#2563eb,stroke-width:3px,color:#fff
            `,
            
            database: `
                graph TD
                    A[ðŸ—„ï¸ MySQL Database] --> B[ðŸ‘¤ Users Table]
                    A --> C[ðŸ“„ Notes Table]
                    A --> D[ðŸƒ Flashcard Decks Table]
                    A --> E[ðŸƒ Flashcards Table]
                    A --> F[â“ Quizzes Table]
                    A --> G[â“ Questions Table]
                    A --> H[ðŸ“‹ Todo Items Table]
                    A --> I[ðŸ“ User Files Table]
                    A --> J[ðŸ“Š Activities Table]
                    
                    B --> K[ðŸ”‘ Primary Key: id]
                    B --> L[ðŸ“§ Email Unique]
                    B --> M[ðŸ” Password Hash]
                    B --> N[ðŸ“Š User Statistics]
                    
                    C --> O[ðŸ”— Foreign Key: user_id]
                    D --> O
                    F --> O
                    H --> O
                    I --> O
                    J --> O
                    
                    E --> P[ðŸ”— Foreign Key: deck_id]
                    G --> Q[ðŸ”— Foreign Key: quiz_id]
                    
                    R[ðŸ›¡ï¸ User Isolation] --> S[ðŸ“Š All Queries Filter by user_id]
                    S --> T[ðŸ”’ Complete Data Privacy]
                    
                    U[ðŸ—‘ï¸ Cascade Deletion] --> V[ðŸ‘¤ User Deletion]
                    V --> W[ðŸ”„ Automatic Data Cleanup]
                    
                    style A fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px,color:#fff
                    style T fill:#10b981,stroke:#059669,stroke-width:3px,color:#fff
                    style W fill:#ef4444,stroke:#dc2626,stroke-width:3px,color:#fff
            `,
            
            dataflow: `
                graph TD
                    A[ðŸ‘¤ User Action] --> B[ðŸ“± JavaFX Interface]
                    B --> C[ðŸŽ¯ Business Logic Layer]
                    C --> D[ðŸ’¾ Data Access Layer]
                    D --> E[ðŸ—„ï¸ MySQL Database]
                    
                    E --> F[ðŸ“Š Query Results]
                    F --> G[ðŸ”„ Data Processing]
                    G --> H[ðŸ“± UI Update]
                    H --> I[ðŸ‘¤ User Feedback]
                    
                    J[ðŸ“ Document Upload] --> K[ðŸ Python Flask API]
                    K --> L[ðŸ¤– AI Processing]
                    L --> M[ðŸ“Š Generated Content]
                    M --> N[ðŸ’¾ Database Storage]
                    N --> O[ðŸ“± JavaFX Update]
                    
                    P[ðŸ”„ Real-time Updates] --> Q[ðŸ“Š Global Refresh System]
                    Q --> R[ðŸ”„ UI Synchronization]
                    R --> S[ðŸ“± Live Data Display]
                    
                    T[âš™ï¸ Configuration] --> U[ðŸ“„ Config Files]
                    U --> V[ðŸ”§ System Settings]
                    V --> W[ðŸ“Š Runtime Behavior]
                    
                    style A fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px,color:#fff
                    style E fill:#10b981,stroke:#059669,stroke-width:3px,color:#fff
                    style L fill:#f59e0b,stroke:#d97706,stroke-width:3px,color:#fff
            `,
            
            components: `
                graph TD
                    A[ðŸ—ï¸ Study Space Architecture] --> B[ðŸ“± Presentation Layer]
                    A --> C[ðŸŽ¯ Business Logic Layer]
                    A --> D[ðŸ’¾ Data Layer]
                    A --> E[ðŸ¤– AI Processing Layer]
                    
                    B --> F[ðŸ” AuthView]
                    B --> G[ðŸ“± SidebarView]
                    B --> H[ðŸƒ FlashcardListView]
                    B --> I[ðŸ“ NotesView]
                    B --> J[âœ… QuizListView]
                    B --> K[ðŸ“‹ TodoListView]
                    B --> L[ðŸŽ® SnakeGameView]
                    
                    C --> M[ðŸŽ¯ AuthController]
                    C --> N[ðŸ”„ SceneManager]
                    C --> O[ðŸ› ï¸ IconUtils]
                    C --> P[ðŸ“¤ DocumentProcessingService]
                    
                    D --> Q[ðŸ’¾ MySQLDataStore]
                    D --> R[ðŸ—„ï¸ DatabaseConnection]
                    D --> S[ðŸ‘¤ User Model]
                    D --> T[ðŸ“„ Note Model]
                    D --> U[ðŸƒ Flashcard Model]
                    D --> V[â“ Question Model]
                    D --> W[ðŸ“‹ TodoItem Model]
                    D --> X[ðŸ“Š Activity Model]
                    D --> Y[ðŸ“ UserFile Model]
                    
                    E --> Z[ðŸ Python Flask API]
                    E --> AA[ðŸ¤– Document Processor]
                    E --> BB[ðŸ§  Qwen3-coder LLM]
                    
                    style A fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px,color:#fff
                    style B fill:#3b82f6,stroke:#2563eb,stroke-width:3px,color:#fff
                    style C fill:#ef4444,stroke:#dc2626,stroke-width:3px,color:#fff
                    style D fill:#10b981,stroke:#059669,stroke-width:3px,color:#fff
                    style E fill:#f59e0b,stroke:#d97706,stroke-width:3px,color:#fff
            `,
            
            features: `
                graph TD
                    A[ðŸŽ¯ Study Space Features] --> B[ðŸ” Authentication System]
                    A --> C[ðŸ“š Study Tools]
                    A --> D[ðŸ¤– AI Processing]
                    A --> E[ðŸŽ® Interactive Features]
                    A --> F[ðŸ“Š Progress Tracking]
                    
                    B --> B1[ðŸ‘¤ User Registration]
                    B --> B2[ðŸ”‘ Secure Login]
                    B --> B3[ðŸ›¡ï¸ Session Management]
                    B --> B4[ðŸ‘¤ Profile Management]
                    
                    C --> C1[ðŸƒ AI Flashcards]
                    C --> C2[ðŸ“ Smart Notes]
                    C --> C3[âœ… Interactive Quizzes]
                    C --> C4[ðŸ“‹ Task Management]
                    
                    C1 --> C1A[ðŸ¤– AI-Generated Flashcards]
                    C1 --> C1B[ðŸ“š Custom Flashcard Decks]
                    C1 --> C1C[ðŸŽ¯ Study Sessions]
                    
                    C2 --> C2A[ðŸ¤– AI-Generated Notes]
                    C2 --> C2B[ðŸ“ Rich Text Editor]
                    C2 --> C2C[ðŸ·ï¸ Category System]
                    
                    C3 --> C3A[ðŸ¤– AI-Generated Quizzes]
                    C3 --> C3B[â“ Multiple Choice]
                    C3 --> C3C[â±ï¸ Time Limits]
                    C3 --> C3D[ðŸ“Š Score Tracking]
                    
                    C4 --> C4A[ðŸ“‹ Priority System]
                    C4 --> C4B[ðŸ“… Due Dates]
                    C4 --> C4C[ðŸ“Š Completion Stats]
                    
                    D --> D1[ðŸ“ Document Upload]
                    D --> D2[ðŸ¤– Content Generation]
                    D --> D3[ðŸ“Š Smart Categorization]
                    
                    E --> E1[ðŸ Snake Game]
                    E --> E2[ðŸŽ¯ Break Activities]
                    E --> E3[ðŸ† Achievement System]
                    
                    F --> F1[ðŸ“Š Activity Logging]
                    F --> F2[ðŸ“ˆ User Statistics]
                    F --> F3[ðŸŽ¯ Weekly Goals]
                    F --> F4[ðŸ“Š Performance Metrics]
                    
                    style A fill:#8b5cf6,stroke:#7c3aed,stroke-width:3px,color:#fff
                    style B fill:#ef4444,stroke:#dc2626,stroke-width:3px,color:#fff
                    style C fill:#3b82f6,stroke:#2563eb,stroke-width:3px,color:#fff
                    style D fill:#10b981,stroke:#059669,stroke-width:3px,color:#fff
                    style E fill:#f59e0b,stroke:#d97706,stroke-width:3px,color:#fff
                    style F fill:#06b6d4,stroke:#0891b2,stroke-width:3px,color:#fff
            `
        };

        function showFlowchart(type) {
            // Remove active class from all buttons
            document.querySelectorAll('.btn').forEach(btn => btn.classList.remove('active'));
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Update flowchart content
            const content = document.getElementById('flowchart-content');
            content.innerHTML = `<div class="mermaid">${flowcharts[type]}</div>`;
            
            // Reinitialize mermaid
            mermaid.init();
        }

        // Initialize with overview
        document.addEventListener('DOMContentLoaded', function() {
            showFlowchart('overview');
        });
    </script>
</body>
</html>
